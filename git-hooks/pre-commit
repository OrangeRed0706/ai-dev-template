#!/bin/sh
# git-hooks/pre-commit
# 自動 format 並 stage 改動的檔案

FILES=$(git diff --cached --name-only --diff-filter=ACMR | sed 's| |\\ |g')
[ -z "$FILES" ] && exit 0

# 根據你的專案取消註解對應的 formatter

# Node.js (prettier/eslint)
# echo "$FILES" | xargs npx prettier --write --ignore-unknown
# echo "$FILES" | xargs git add

# .NET
# dotnet format --include $(echo "$FILES" | tr '\n' ' ')
# echo "$FILES" | xargs git add

# Python (black)
# echo "$FILES" | xargs black --quiet
# echo "$FILES" | xargs git add

exit 0
